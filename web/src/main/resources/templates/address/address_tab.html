<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Объекты</title>
    <link rel="stylesheet" th:href="@{/sass/general.css}" href="/sass/general.css">
    <script type="text/javascript" src="https://unpkg.com/tabulator-tables@6.2.0/dist/js/tabulator.min.js"></script>
    <link rel="stylesheet" th:href="@{/css/tables-general/general.css}" href="/css/tables-general/general.css"/>
    <link rel="stylesheet" th:href="@{/css/tables-general/main-form.css}" href="/css/tables-general/main-form.css"/>
    <link rel="stylesheet" th:href="@{/css/tables-general/header.css}" href="/css/tables-general/header.css"/>
    <link rel="stylesheet" th:href="@{/css/tables-general/nav.css}" href="/css/tables-general/nav.css"/>
    <link rel="stylesheet" th:href="@{/css/tables-general/notifiication_popup.css}" href="/css/tables-general/notifiication_popup.css"/>
    <link rel="stylesheet" th:href="@{/css/address/styles_address_tab.css}" href="/css/address/styles_address_tab.css" />
    <link rel='stylesheet' href='https://fonts.googleapis.com/icon?family=Material+Icons'>
    <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Roboto:300'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="icon" href="/images/favicon.ico" th:href="@{/images/favicon.ico}">
</head>
<body>

<!-- nav -->
<nav th:include="~{/general/nav.html :: nav}"></nav>
<!-- @end nav -->

<!-- header -->
<header>
    <div class="header-inner clearfix">
        <div class="nav-btn nav-slider">
            <i class="material-icons">menu</i>
        </div>
        <div class="header-logo">
            <a href="https://deepcleanhq.com/"><img alt="logo" th:src="@{/images/new_logo_tight.jpg}" src="/images/new_logo_tight.jpg"></a>
        </div>
        <div class="header-categories">
            <ul class="ul-base">
                <li class="dropdown">
                    <a class="dropdown-toggle" href="#"><span>Объекты</span> <i class="material-icons">keyboard_arrow_down</i></a>
                    <ul class="dropdown-menu ul-base">
                        <li><a href="/tables/shift/main">Рабочее время</a></li>
                        <li><a href="/tables/brigadier/main">Бригадиры</a></li>
                        <li><a href="/tables/worker/main">Персонал</a></li>
                        <li><a href="/tables/supervisors/main">Супервайзеры</a></li>
                        <li><a href="/tables/order/main">Заказы</a></li>
                        <li><a href="/tables/equip/main">Оборудование</a></li>
                        <li><a href="/tables/expense/main">Расходы</a></li>
                        <li><a href="/tables/income/main">Доходы</a></li>
                    </ul>
                </li>
            </ul>
        </div>
        <div class="header-categories">
            <ul class="ul-base">
                <li class="dropdown">
                    <a class="dropdown-toggle" href="#"><span>Список объектов</span> <i class="material-icons">keyboard_arrow_down</i></a>
                    <ul class="dropdown-menu ul-base">
                        <li><a href="/tables/address/address_job_main">Профессии на объектах</a></li>
                    </ul>
                </li>
            </ul>
        </div>
        <div class="header-search">
            <div class="search">
                <i class="material-icons">search</i>
                <input type="search" name="search" placeholder="Искать">
            </div>
        </div>

    </div>
</header><!-- @end header -->

<!-- Main content -->
<footer></footer><!-- @end footer -->

<main role="main">
    <div id="table-left">
        <div id="table-buttons">
            <button id="add-row-button">Добавить поле</button>
            <button id="main-table-save-update">Сохранить изменения в таблице</button>
            <button id="import-local-file">Загрузить из excel</button>
        </div>
        <!-- Таблица основная -->
        <div id="address-table"></div>
    </div>
    <!-- Окно фильтров -->
    <div id="filter-window">
        <div id="header" class="filter-window">
            <span style="margin-right: 1vw">Фильтры</span>
            <span class="material-icons">manage_search</span>
        </div>
        <span style="margin-bottom: 1vh">Выберите столбик</span>
        <select class="filter-window" id="filter-column">
            <option value="shortName">Название</option>
            <option value="fullName">Адрес</option>
            <option value="brigadiers">Бригадиры</option>
            <option value="workers">Персонал</option>
        </select>
        <input class="filter-window" type="text" id="filter-input" placeholder="Впишите значение">
        <button class="filter-window" id="clear-filter">Очистить фильтр</button>
    </div>
    <div id="overlay"></div>
</main><!-- @end main -->

<!--    форма на новое поле        -->
<form id="main-form" class="address-form">
    <i id="form-exit" class="fa fa-times" aria-hidden="true"></i>
    <div class="datainput">
        <input class="validate" id="shortNaming" name="shortNaming" required="" type="text" value=''/>
        <span class="highlight"></span><span class="bar"></span>
        <label>Название</label>
    </div>
    <div class="datainput">
        <input class="validate" id="fullNaming" name="fullNaming" required="" type="text" value=''/>
        <span class="highlight"></span><span class="bar"></span>
        <label>Полный адрес</label>
    </div>
    <div class="datainput">
        <input class="validate" id="zone" name="zone" required="" type="text" value=''/>
        <span class="highlight"></span><span class="bar"></span>
        <label>Географическая зона</label>
    </div>
    <label for="brigadiers">Выберите бригадиров:</label><br>
    <div id="brigadiers">
    </div>
    <span class="bar-static"></span>
    <label for="workers">Выберите персонал:</label><br>
    <div id="workers">
    </div>
    <span class="bar-static"></span>
    <button id="main-form-submit" class="send_form" type="submit" title="Сохранить">Добавить</button>
    <div id="text-info"></div>
</form>
<!--Меню при сохранении формы-->
<div class="cd-popup" id="form-popup" role="alert">
    <div class="cd-popup-container">
        <p>Сохранено. Создать еще одну запись?</p>
        <ul class="cd-buttons">
            <li><a href="" id="cd-popup-yes">Да</a></li>
            <li><a href="" id="cd-popup-no">Нет</a></li>
        </ul>
    </div> <!-- cd-popup-container -->
</div> <!-- cd-popup -->
<!--Меню при удалении записи address-->
<div class="cd-popup" id="address-delete-popup" role="alert">
    <div class="cd-popup-container">
        <p>Вы точно хотите удалить записи?</p>
        <ul class="cd-buttons">
            <li><a href="" id="address-popup-yes">Да</a></li>
            <li><a href="" id="address-popup-no">Нет</a></li>
        </ul>
    </div> <!-- cd-popup-container -->
</div> <!-- cd-popup -->
<div id="upper-drag-menu">
    <i id="drag-exit" class="fa fa-times" aria-hidden="true"></i>
    <span id="brig-main-header">Перетащите доступных бригадиров</span>
    <div id="drag-brigadier-headers">
        <div id="brig-header1">
            <span>Все доступные бригадиры</span>
        </div>
        <div id="brig-header2">
            <span>Бригадиры выбранного объекта</span>
        </div>
    </div>
</div>
<div id="upper-drag-menu-workers">
    <i id="drag-exit-workers" class="fa fa-times" aria-hidden="true"></i>
    <span id="workers-main-header">Перетащите доступных работников</span>
    <div id="drag-workers-headers">
        <div id="worker-header1">
            <span>Все доступные работники</span>
        </div>
        <div id="worker-header2">
            <span>Работники выбранного объекта</span>
        </div>
    </div>
</div>
<div id="drag-brigadiers-box">
    <div id="dragBrigadiersTable"></div>
    <button class="button-save-on-address" id="save-brigadiers-on-address">Сохранить изменения</button>
    <div id="addressBrigadiersTable"></div>
</div>
<div id="drag-workers-box">
    <div id="dragWorkersTable"></div>
    <button class="button-save-on-address" id="save-workers-on-address">Сохранить изменения</button>
    <div id="addressWorkersTable"></div>
</div>
<div id="excel-address-box">
    <i id="excel-address-exit" class="fa fa-times" aria-hidden="true"></i>
    <button id="choose-local-file">Выбрать файл</button>
    <button id="save-excel-address-update">Сохранить изменения</button>
    <div id="excel-address-table"></div>
</div>
<div id="lower-drag-menu"></div>
<!-- partial -->

<script type="text/javascript" src="https://oss.sheetjs.com/sheetjs/xlsx.full.min.js"></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
<script th:src="@{/js/address/address_drag_brigadiers_and_workers.js}" src="/js/address/address_drag_brigadiers_and_workers.js"></script>
<script th:src="@{/js/main_header.js}" src="/js/main_header.js"></script>
<script th:src="@{/js/address/address_script.js}" src="/js/address/address_script.js"></script>
<script th:src="@{/js/form_popup_common.js}" src="/js/form_popup_common.js"></script>
<script th:src="@{/js/address/address_delete_popup_script.js}" src="/js/address/address_delete_popup_script.js"></script>

</body>
</html>
